## Отчет по MongoDB

1. Запускаем докер

![](img/docker.bmp)

2. Скачиваем и запускаем mongo по инструкции с официального сайта, добавив флаг -p 27017:27017, без него не работает из коробки

![](img/mongo_download.bmp)

![](img/mongo_start.bmp)

3. Скачиваем Compass, подключаемся к localhost:27017

![](img/compass_start.bmp)

4. Скачал данные отсюда: https://www.kaggle.com/datasets/fivethirtyeight/uber-pickups-in-new-york-city

5. В БД загрузил данные за 2015 год. Весит файл примерно 500 МБ и содержит 1.5 миллиона записей. Хоть и в каждой записи информации немного, но в mongo он загружался где-то полтора часа.

![](img/data.bmp)

6. Выполним пару простых запросов

    Добавим новое значение

    ![](img/add_boba.bmp)

    Найдем его

    ![](img/find_boba.bmp)

    Изменим

    ![](img/update_boba.bmp)

    Ну и, наконец, удалим

    ![](img/delete_biba.bmp)
    
7. Теперь сравним скорость выполнения запросов выборки с индексом и без. Для этого выполним два запроса на выборку по полю locationID. В первом запросе результат выборки будет относительно небольшой, а второй должен покрыть большую часть данных. Затем добавим индекс на это поле и повторим запросы.

    Выполним запрос с небольшим выходом

    ![](img/find_small.bmp)

    Результат без индекса

    ![](img/find_small_noidx_time.bmp)

    Результат с индексом

    ![](img/find_small_idx_time.bmp)

    Теперь рассмотрим запрос с большим выборкой

    ![](img/find_big.bmp)

    Результат без индекса

    ![](img/find_big_noidx_time.bmp)

    Результат с индексом

    ![](img/find_big_idx_time.bmp)

    Видим, что на маленькой выборке индекс дает огромный прирост скорости выполнения запроса, а на большой, наоборот, значительно ухудшает.

**Вывод:** в ходе лабороторной работы протестировали СУБД MongoDB, выполнили простые CRUD запросы и сравнили производительность запросов выборки с индексом и без.

Mongo показалась мне очень простой и легкой в использовании. Понравилась работа с Compass. Язык запросов достаточно понятен, но в некоторых моментах не очень интуитивен и, на мой вгляд, иногда уступает SQL с этой точки зрения. Объем данных был немаленьким, но его загрузка в БД длилась дольше, чем я ожидал.

Индексное сканирование стоит использовать, когда предполагается, что результат запроса будет небольшим. Тогда скорость выполнения сильно увеличиваетя. В противном случае скорость падает.